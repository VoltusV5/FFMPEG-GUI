# FFMPEG GUI

Графическое приложение на PySide6 для конвертации видео и аудио файлов с помощью FFmpeg. Позволяет настраивать параметры конвертации через удобный графический интерфейс без необходимости работы с командной строкой.

## Описание

FFMPEG GUI - это десктопное приложение, которое предоставляет простой и интуитивный интерфейс для работы с FFmpeg. Приложение позволяет:

- Выбирать входные видео/аудио файлы
- Настраивать кодек, контейнер и разрешение
- Сохранять и загружать пресеты настроек
- Просматривать сгенерированную команду FFmpeg
- Запускать процесс конвертации с отображением прогресса

## Требования

- Python 3.7 или выше
- PySide6
- FFmpeg:
  - файл `ffmpeg.exe` должен находиться в корневой директории проекта
  - **рекомендуется** также положить рядом `ffprobe.exe` (используется для определения длительности видео и более точного прогресса кодирования)

## Установка

1. Клонируйте репозиторий или скачайте проект
2. Перейдите в директорию проекта
3. Создайте виртуальное окружение:

```bash
python -m venv venv
```

4. Активируйте виртуальное окружение:

**Windows (bash):**
```powershell
. venv/Scripts/activate
```

**Linux/Mac:**
```bash
source venv/bin/activate
```

5. Установите зависимости:

```bash
pip install -r requirements.txt
```

6. Убедитесь, что файл `ffmpeg.exe` находится в корневой директории проекта

## Запуск

После установки зависимостей запустите приложение:

```bash
python main.py
```

## Разработка

### Редактирование интерфейса

Для редактирования интерфейса используйте Qt Designer:

```bash
pyside6-designer mainwindow.ui
```

### Компиляция UI файла

После изменения `.ui` файла в дизайнере необходимо сгенерировать Python код:

```bash
pyside6-uic mainwindow.ui -o ui_mainwindow.py
```

**Важно:** Делайте это каждый раз после изменения `.ui` файла в дизайнере.

## Сборка и деплой

Для создания исполняемого файла используйте:

```bash
pyside6-deploy --mode onefile --name OpenFF_GUI main.py
```

Эта команда создаст standalone исполняемый файл без консольного окна.

## Структура проекта

```
FFMPEG_GUI/
├── main.py              # Точка входа приложения
├── mainwindow.py        # Основная логика главного окна
├── presetmanager.py     # Управление пресетами
├── mainwindow.ui        # Файл интерфейса Qt Designer
├── ui_mainwindow.py     # Сгенерированный код интерфейса
├── presets.xml          # Сохранённые пресеты (создаётся автоматически)
├── ffmpeg.exe           # Исполняемый файл FFmpeg
├── pysidedeploy.spec    # Конфигурация для деплоя
└── README.md            # Этот файл
```

## Использование

### Основной рабочий процесс

1. **Добавьте файлы в очередь:**
   - Перетащите видео-файлы в таблицу очереди, или
   - Нажмите "Добавить файлы..." и выберите файлы

2. **Выберите файл из очереди для настройки:**
   - Кликните по строке в таблице очереди
   - Файл загрузится в предпросмотр

3. **Настройте параметры кодирования:**
   - Используйте редактор пресетов в правой части окна
   - Выберите кодек (current/libx264/libx265/custom)
   - Выберите контейнер (current/mp4/mkv/custom)
   - Выберите разрешение (current/480p/720p/1080p/custom)
   - При выборе "custom" откроется диалог ввода

4. **Примените или создайте пресет:**
   - Выберите существующий пресет в таблице и нажмите "Применить к выбранному файлу"
   - Или настройте параметры вручную - файл получит статус "custom"
   - Создайте новый пресет через "Создать пресет"
   - Сохраните изменения через "Сохранить пресет"

5. **Просмотрите команду FFmpeg:**
   - Команда автоматически обновляется при изменении параметров
   - Ручное редактирование команды помечает файл как "custom"

6. **Запустите кодирование:**
   - Нажмите "Запустить кодирование"
   - Процесс обработки файлов отображается в очереди и логах

### Пресеты

- **default**: Перекодирование без изменения параметров (только другое имя файла)
- **custom**: Пользовательские настройки для конкретного файла
- **Именованные пресеты**: Сохранённые наборы параметров

### Управление пресетами

- **Экспорт/импорт**: Кнопки в верхней части редактора пресетов
- **Создание**: "Создать пресет" с текущими настройками
- **Редактирование**: Выберите пресет в таблице → измените параметры → "Сохранить пресет"


